{{ with .Site.Params.footer }}
<div id="footer">
    <hr>
    <div class="container text-center mb-2">
        <a href="{{ .url | absURL }}"><small>{{ .text }}</small></a>
    </div>
</div>
{{ end }}

<div id="license">
    <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
        This website is licensed under
        <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer"
            style="display:inline-block;">
            CC BY 4.0
        </a>
        <span class="license-icon icon-cc" aria-hidden="true"></span>
        <span class="license-icon icon-by" aria-hidden="true"></span>
    </p>
</div>

<script type="text/javascript">
    var front = document.getElementById('front-avatar');
    var back = document.getElementById('back-avatar');

    if (front != null && back != null) {
        front.style.display = 'block';
        back.style.display = 'none';

        document.getElementById('avatar-container').onclick = function () {
            if (front.style.display == 'none') {
                front.style.display = 'block';
                back.style.display = 'none';
            } else if (back.style.display == 'none') {
                back.style.display = 'block';
                front.style.display = 'none';
            }
        }
    }

    function toggleAuthors(span) {
        var shortAuthors = span.getElementsByClassName('short-authors')[0];
        var longAuthors = span.getElementsByClassName('long-authors')[0];
        if (shortAuthors.style.display == 'none') {
            shortAuthors.style.display = 'inline';
            longAuthors.style.display = 'none';
            shortAuthors.setAttribute('aria-hidden', 'false');
            longAuthors.setAttribute('aria-hidden', 'true');
        } else {
            shortAuthors.style.display = 'none';
            longAuthors.style.display = 'inline';
            shortAuthors.setAttribute('aria-hidden', 'true');
            longAuthors.setAttribute('aria-hidden', 'false');
        }
    }

    var hideAuthors = document.getElementsByClassName('hide-authors');
    for (var i = 0; i < hideAuthors.length; i++) {
        innerText = hideAuthors[i].innerHTML;
        var num_authors = innerText.split(',').length - 1;

        if (num_authors < 3) {
            continue;
        }

        hideAuthors[i].innerHTML = (
            '<span class="short-authors">+' + num_authors + ' authors </span>' +
            '<span class="long-authors">' + innerText + '</span>'
        )
        shortAuthorsSpan = hideAuthors[i].getElementsByClassName('short-authors')[0];
        longAuthorsSpan = hideAuthors[i].getElementsByClassName('long-authors')[0];

        shortAuthorsSpan.title = 'Click to show full author list.';
        longAuthorsSpan.title = 'Click to hide full author list.';

        shortAuthorsSpan.setAttribute('aria-hidden', 'false');
        longAuthorsSpan.setAttribute('aria-hidden', 'true');

        shortAuthorsSpan.style.display = 'inline';
        longAuthorsSpan.style.display = 'none';

        hideAuthors[i].onclick = function() { toggleAuthors(this); };
    }

    var preprints = document.getElementsByClassName('preprint');
    for (var i = 0; i < preprints.length; i++) {
        preprints[i].innerText = 'preprint';
    }
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-X15XFHYC4L"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-X15XFHYC4L');
</script>
